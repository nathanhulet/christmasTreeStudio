<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Christmas Tree Studio</title>
    <link rel="stylesheet" href="stylesheet.css">
  </head>
  <body>

  <!-- Snowflake object -->
  <img class="flake" src="resources/snowyflake.png" alt ="you failure you >:(" id="flake">
 



<div class="designTitle" id="imageTitle">DESIGN_TITLE (if you see this, somthing went wrong)</div>

<div class="treeContainer">

  <div id="wrapper">
  <img class= "backgroundImg" src="resources/background_1.jpg" style="z-index: -100;" draggable="false">
  <div class="treeTrunk" style="bottom: 465px;"><img id="trunk" src="resources/trunk.gif" alt="image error" draggable="false"></div>
  <div class="treeTrunk" style="bottom: 485px;"><img id="Stand" src="resources/EMPTY.svg.png" alt="image error" draggable="false"></div>
  <div class="treeTrunk" style="bottom: 465px;"><img id="Pines" src="resources/PinesGreen.gif" alt="image error" draggable="false"></div>
  <div class="treeTrunk" style="bottom: 465px;"><img id="Lights" src="resources/EMPTY.svg.png" alt="image error" draggable="false"></div>
  <div class="treeTrunk" style="bottom: 465px;"><img id="Bulbs" src="resources/EMPTY.svg.png" alt="image error" draggable="false"></div>
  <div class="treeTrunk" style="bottom: 465px;"><img id="Garland" src="resources/EMPTY.svg.png" alt="image error" draggable="false"></div>
  <div class="treeTrunk" style="bottom: 465px;"><img id="Skirt" src="resources/EMPTY.svg.png" alt="image error" draggable="false"></div>
  </div>
</div>

 <script src="scripts.js"></script>

<script>

//find the id of this iframe onject
var myID = this.frameElement.attributes.id;

//retrieve the numeric value of this id and add it to the string 'array'
var numValue = myID.value.slice(5);
var idName = "array" + (parseInt(numValue) + 1);

//get element of parent 
var data = parent.document.getElementById(idName); 
var decode1 = decodeURIComponent(data.value);
var myArray = JSON.parse(decode1);

//TITLE
document.getElementById("imageTitle").innerHTML = myArray['Design_Title'];

//TREE
var treeArray = ["PinesGreen.gif", "PinesSnowy.gif", "PinesGold.gif", "PinesWhite.gif"];
var typeOfTree = myArray['Pine'];
var pineImg = document.getElementById('Pines');
var newImage = "resources/" + treeArray[typeOfTree];
pineImg.src = newImage;

//ORNAMENTS
var bulbArray = ["EMPTY.svg.png", "BulbsBlue.gif", "BulbsGreen.gif"];
var typeOfDeco = myArray['Ornaments'];
var bulbImg = document.getElementById('Bulbs');
var newImage = "resources/" + bulbArray[typeOfDeco];
bulbImg.src = newImage;

//LIGHTS
var lightsArray = ["EMPTY.svg.png", "LightsBlue.gif", "LightsYellow.gif", "LightsRed.gif"];
var typeOfLight = myArray['Lights'];
var bulbImg = document.getElementById('Lights');
var newImage = "resources/" + lightsArray[typeOfLight];
bulbImg.src = newImage;

//SKIRTS
var skirtArray = ["EMPTY.svg.png", "skirtred.gif"];
var typeOfSkirt = myArray['Skirt'];
var skirtImg = document.getElementById('Skirt');
var newImage = "resources/" + skirtArray[typeOfSkirt];
skirtImg.src = newImage;

//GARLANDS
var garlandArray = ["EMPTY.svg.png", "garlandgold.gif", "garlandRedBlueGreen.gif"];
var typeOfGarland = myArray['Garland'];
var garlandImg = document.getElementById('Garland');
var newImage = "resources/" + garlandArray[typeOfGarland];
garlandImg.src = newImage;

//STAND
var standArray = ["EMPTY.svg.png", "metalStand.gif", "plasticStand.gif"];
var typeOfStand = myArray['Stand'];
var standImg = document.getElementById('Stand');
var newImage = "resources/" + standArray[typeOfStand];
standImg.src = newImage;
if (standArray[typeOfStand] != "EMPTY.svg.png") {
  var trunk = document.getElementById('trunk');
  trunk.src = "resources/EMPTY.svg.png";
}


//SNOW

     var ele = document.getElementsByClassName("flake");
    if (myArray['Snow'] == true) {
      for (var i = 0; i < ele.length; i++ ) {
        ele[i].style.visibility = "visible";
      }
    }
    else {
      for (var i = 0; i < ele.length; i++ ) {
        ele[i].style.visibility = "hidden";
      }
    }



</script>





  </body>
</html>